<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jbp.service.dao.UserJdDao">


    <select id="getList" resultType="com.jbp.common.response.UserJdResponse">


        select j.uid,u.account,u.nickname,j.xid as xid ,t.name as teamName  from  eb_user_jd j
        left join eb_user u on u.id= j.uid
        left join eb_team_user tu on tu.uid= j.uid
        left join eb_team t on t.id=  tu.tid
        where  1=1

        <if test="nickname != '' and nickname != null ">
            and u.nickname like CONCAT('%',#{nickname},'%')
        </if>
        <if test="account != '' and account != null ">
            and u.account = #{account}
        </if>


    </select>
</mapper>
