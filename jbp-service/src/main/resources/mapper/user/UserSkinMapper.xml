<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jbp.service.dao.UserSkinDao">
    <select id="getList" resultType="com.jbp.common.model.user.UserSkin">
        select *,u.nickname,u.phone,u.account
        from eb_user_skin s
        left join eb_user u on s.uid = u.id
        <where>
            <if test="uid !=null and uid!=''">
                and s.uid=#{uid}
            </if>
            <if test="nickname !=null and nickname!=''">
                and u.nickname like CONCAT('%',#{nickname},'%')
            </if>
            <if test="phone !=null and phone!=''">
                and u.phone=#{phone}
            </if>
            <if test="startCreateTime!=null and endCreateTime!=null">
                and DATE(s.gmt_created) BETWEEN #{startCreateTime} AND #{endCreateTime}
            </if>
        </where>
        order by s.id desc
    </select>
</mapper>
